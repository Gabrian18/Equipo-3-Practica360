<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>A-Frame Menu de Gastronomia</title>
  <meta name="description" content="Imagen 360 del Edificio de Gastronomia" />
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
</head>
<body>
  <a-scene>
    <!-- Cámara con cursor amarillo -->
    <a-camera position="0 1.6 0">
      <a-cursor color="yellow" fuse="false"></a-cursor>
    </a-camera>

    <!-- Assets con imágenes -->
    <a-assets>
      <img id="imagen360" src="https://i.ibb.co/hxYwnwv7/Piso1-Edificio-Gastro.jpg" crossorigin="anonymous" />
      <img id="imagen1" src="https://i.ibb.co/1f6kFnBS/segundo-piso-gastro.png" crossorigin="anonymous" />
      <img id="imagenBoton" src="https://i.ibb.co/9xQXF5S/Boton-Regresar.png" crossorigin="anonymous" />
    </a-assets>

    <!-- Fondo 360 -->
    <a-sky src="#imagen360" rotation="0 -130 0"></a-sky>

    <!-- Texto -->
    <a-text font="kelsonsans" value="Planta Baja Gastronomia" width="6" position="-2.5 0.25 -1.5" rotation="0 15 0"></a-text>

    <!-- Primer botón con imagen1 -->
    <a-box
      position="-2 1 -3"
      width="1"
      height="1"
      depth="0"
      material="src: #imagen1; transparent: true; shader: flat"
      class="clickable"
      onclick="abrirEnlace(1)"
      event-set__mouseenter="scale: 1.1 1.1 1.1"
      event-set__mouseleave="scale: 1 1 1"
    ></a-box>

    <!-- Botón tipo a-image que reemplaza imagen2 -->
  </a-scene>

  <script>
    function abrirEnlace(opc) {
      switch (opc) {
        case 1:
          window.location.href = "segundo-piso-gastro.html";
          break;
      }
    }

    // Crear el botón tipo a-image con la imagen de regresar
    const escena = document.querySelector("a-scene");
    const radio = 5;
    const anguloGrados = 48;
    const anguloRadianes = anguloGrados * (Math.PI / 180);
    const x = radio * Math.sin(anguloRadianes);
    const z = radio * Math.cos(anguloRadianes);
    const rotY = -anguloGrados + 180;

    const botonRegresar = document.createElement("a-image");
    botonRegresar.setAttribute("src", "#imagenBoton");
    botonRegresar.setAttribute("position", `${x} 1.5 ${-z}`);
    botonRegresar.setAttribute("rotation", `0 ${rotY} 0`);
    botonRegresar.setAttribute("width", "0.8");
    botonRegresar.setAttribute("height", "0.8");
    botonRegresar.setAttribute("transparent", "true");
    botonRegresar.setAttribute("class", "clickable");
    botonRegresar.addEventListener("click", () => {
      window.location.href = "index.html";
    });

    escena.appendChild(botonRegresar);
  </script>
</body>
</html>

